{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\spot_the_plane\\\\src\\\\components\\\\Timer.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport styles from '../styles/Timer.module.css';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction render(time) {\n  let mm = parseInt(time / (1000 * 60) % 60);\n  let ss = parseInt(time / 1000 % 60);\n  let ms = parseInt(time % 1000 / 10);\n  let leadZeroTime = [mm, ss, ms].map(t => t < 10 ? `0${t}` : t);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [leadZeroTime[0], \":\", leadZeroTime[1], \".\", leadZeroTime[2]]\n  }, void 0, true);\n}\n\nexport default function Timer(_ref) {\n  _s();\n\n  let {\n    status,\n    addTime,\n    subTime,\n    redTime,\n    normTime\n  } = _ref;\n  const [time, setTime] = useState(0);\n  const [green, setGreen] = useState(255);\n  const [blue, setBlue] = useState(255);\n  useEffect(() => {\n    let interval;\n\n    if (status) {\n      let offset = Date.now();\n      interval = setInterval(() => {\n        let now = Date.now(),\n            d = now - offset;\n        offset = now;\n        setTime(clock => addTime ? clock + d + 10000 : clock + d);\n        subTime();\n      });\n    }\n\n    return () => clearInterval(interval);\n  }, [status, addTime, subTime]);\n  useEffect(() => {\n    let timeout;\n    let interval;\n\n    if (redTime) {\n      setGreen(0);\n      setBlue(0);\n      timeout = setTimeout(() => {\n        normTime();\n        interval = setInterval(() => {\n          setGreen(g => g + 25);\n          setBlue(b => b + 25);\n        }, 100);\n      }, 1000);\n    }\n\n    return () => {\n      // clearTimeout(timeout);\n      clearInterval(interval);\n    };\n  }, [redTime, normTime]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.timer,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: `rgb(255, ${green}, ${blue})`\n      },\n      children: render(time)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Timer, \"BGMMitUJV59o0EVlSiKPsE4wSE4=\");\n\n_c = Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["useState","useEffect","styles","render","time","mm","parseInt","ss","ms","leadZeroTime","map","t","Timer","status","addTime","subTime","redTime","normTime","setTime","green","setGreen","blue","setBlue","interval","offset","Date","now","setInterval","d","clock","clearInterval","timeout","setTimeout","g","b","timer","color"],"sources":["D:/Coding/spot_the_plane/src/components/Timer.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport styles from '../styles/Timer.module.css';\r\n\r\nfunction render(time) {\r\n    let mm = parseInt((time / (1000 * 60)) % 60);\r\n    let ss = parseInt((time / 1000) % 60);\r\n    let ms = parseInt((time % 1000) / 10);\r\n    let leadZeroTime = [mm, ss, ms].map(t => t < 10 ? `0${t}` : t);\r\n    return <>{leadZeroTime[0]}:{leadZeroTime[1]}.{leadZeroTime[2]}</>;\r\n}\r\n\r\nexport default function Timer({ status, addTime, subTime, redTime, normTime }) {\r\n    const [time, setTime] = useState(0);\r\n    const [green, setGreen] = useState(255);\r\n    const [blue, setBlue] = useState(255);\r\n    \r\n    useEffect(() => {\r\n        let interval;\r\n        if (status) {\r\n            let offset = Date.now();\r\n            interval = setInterval(() => {\r\n                let now = Date.now(), d = now - offset;\r\n                offset = now;\r\n                setTime((clock) => addTime ? clock + d + 10000 : clock + d);\r\n                subTime();\r\n            });\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [status, addTime, subTime]);\r\n\r\n    useEffect(() => {\r\n        let timeout;\r\n        let interval;\r\n        if (redTime) {\r\n            setGreen(0);\r\n            setBlue(0);\r\n            timeout = setTimeout(() => {\r\n                normTime();\r\n                interval = setInterval(() => {\r\n                    setGreen((g) => g + 25);\r\n                    setBlue((b) => b + 25);\r\n                }, 100)\r\n            }, 1000)\r\n        }\r\n        return () => {\r\n            // clearTimeout(timeout);\r\n            clearInterval(interval);\r\n        }\r\n    }, [redTime, normTime])\r\n\r\n    return (\r\n        <div className={styles.timer}>\r\n            <span \r\n                style={{\r\n                    color: `rgb(255, ${green}, ${blue})`\r\n                }}\r\n            >\r\n                { render(time) }\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}