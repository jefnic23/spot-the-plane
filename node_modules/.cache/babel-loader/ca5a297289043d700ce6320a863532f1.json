{"ast":null,"code":"import _slicedToArray from\"D:/Coding/spot_the_plane/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import styles from'../styles/Timer.module.css';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function render(time){var mm=parseInt(time/(1000*60)%60);var ss=parseInt(time/1000%60);var ms=parseInt(time%1000/10);var leadZeroTime=[mm,ss,ms].map(function(t){return t<10?\"0\".concat(t):t;});return/*#__PURE__*/_jsxs(_Fragment,{children:[leadZeroTime[0],\":\",leadZeroTime[1],\".\",leadZeroTime[2]]});}export default function Timer(_ref){var status=_ref.status,addTime=_ref.addTime,subTime=_ref.subTime,animate=_ref.animate,unanimate=_ref.unanimate,getTime=_ref.getTime;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTime=_useState2[1];useEffect(function(){var interval;if(status){var offset=Date.now();interval=setInterval(function(){var now=Date.now(),d=now-offset;offset=now;setTime(function(clock){return addTime?clock+d+10000:clock+d;});subTime();});}else{getTime(time);}return function(){return clearInterval(interval);};},[status,addTime,subTime,time,getTime]);return/*#__PURE__*/_jsx(\"div\",{className:styles.timer,children:/*#__PURE__*/_jsx(\"span\",{style:{color:animate?'red':'#fff',animation:animate?\"\".concat(styles.animate,\" 1s forwards 1s\"):''},onAnimationEnd:function onAnimationEnd(){return unanimate();},children:render(time)})});}","map":{"version":3,"names":["useState","useEffect","styles","render","time","mm","parseInt","ss","ms","leadZeroTime","map","t","Timer","status","addTime","subTime","animate","unanimate","getTime","setTime","interval","offset","Date","now","setInterval","d","clock","clearInterval","timer","color","animation"],"sources":["D:/Coding/spot_the_plane/src/components/Timer.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport styles from '../styles/Timer.module.css';\r\n\r\nfunction render(time) {\r\n    let mm = parseInt((time / (1000 * 60)) % 60);\r\n    let ss = parseInt((time / 1000) % 60);\r\n    let ms = parseInt((time % 1000) / 10);\r\n    let leadZeroTime = [mm, ss, ms].map(t => t < 10 ? `0${t}` : t);\r\n    return <>{leadZeroTime[0]}:{leadZeroTime[1]}.{leadZeroTime[2]}</>;\r\n}\r\n\r\nexport default function Timer({ status, addTime, subTime, animate, unanimate, getTime }) {\r\n    const [time, setTime] = useState(0);\r\n    \r\n    useEffect(() => {\r\n        let interval;\r\n        if (status) {\r\n            let offset = Date.now();\r\n            interval = setInterval(() => {\r\n                let now = Date.now(), d = now - offset;\r\n                offset = now;\r\n                setTime((clock) => addTime ? clock + d + 10000 : clock + d);\r\n                subTime();\r\n            });\r\n        } else {\r\n            getTime(time);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [status, addTime, subTime, time, getTime]);\r\n\r\n    return (\r\n        <div className={styles.timer}>\r\n            <span \r\n                style={{\r\n                    color: animate ? 'red' : '#fff',\r\n                    animation: animate ? `${styles.animate} 1s forwards 1s` : ''\r\n                }}\r\n                onAnimationEnd={() => unanimate()}\r\n            >\r\n                { render(time) }\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"8GAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,OAAP,KAAmB,4BAAnB,C,6IAEA,QAASC,OAAT,CAAgBC,IAAhB,CAAsB,CAClB,GAAIC,GAAE,CAAGC,QAAQ,CAAEF,IAAI,EAAI,KAAO,EAAX,CAAL,CAAuB,EAAxB,CAAjB,CACA,GAAIG,GAAE,CAAGD,QAAQ,CAAEF,IAAI,CAAG,IAAR,CAAgB,EAAjB,CAAjB,CACA,GAAII,GAAE,CAAGF,QAAQ,CAAEF,IAAI,CAAG,IAAR,CAAgB,EAAjB,CAAjB,CACA,GAAIK,aAAY,CAAG,CAACJ,EAAD,CAAKE,EAAL,CAASC,EAAT,EAAaE,GAAb,CAAiB,SAAAC,CAAC,QAAIA,EAAC,CAAG,EAAJ,YAAaA,CAAb,EAAmBA,CAAvB,EAAlB,CAAnB,CACA,mBAAO,2BAAGF,YAAY,CAAC,CAAD,CAAf,KAAqBA,YAAY,CAAC,CAAD,CAAjC,KAAuCA,YAAY,CAAC,CAAD,CAAnD,GAAP,CACH,CAED,cAAe,SAASG,MAAT,MAA0E,IAAzDC,OAAyD,MAAzDA,MAAyD,CAAjDC,OAAiD,MAAjDA,OAAiD,CAAxCC,OAAwC,MAAxCA,OAAwC,CAA/BC,OAA+B,MAA/BA,OAA+B,CAAtBC,SAAsB,MAAtBA,SAAsB,CAAXC,OAAW,MAAXA,OAAW,CACrF,cAAwBlB,QAAQ,CAAC,CAAD,CAAhC,wCAAOI,IAAP,eAAae,OAAb,eAEAlB,SAAS,CAAC,UAAM,CACZ,GAAImB,SAAJ,CACA,GAAIP,MAAJ,CAAY,CACR,GAAIQ,OAAM,CAAGC,IAAI,CAACC,GAAL,EAAb,CACAH,QAAQ,CAAGI,WAAW,CAAC,UAAM,CACzB,GAAID,IAAG,CAAGD,IAAI,CAACC,GAAL,EAAV,CAAsBE,CAAC,CAAGF,GAAG,CAAGF,MAAhC,CACAA,MAAM,CAAGE,GAAT,CACAJ,OAAO,CAAC,SAACO,KAAD,QAAWZ,QAAO,CAAGY,KAAK,CAAGD,CAAR,CAAY,KAAf,CAAuBC,KAAK,CAAGD,CAAjD,EAAD,CAAP,CACAV,OAAO,GACV,CALqB,CAAtB,CAMH,CARD,IAQO,CACHG,OAAO,CAACd,IAAD,CAAP,CACH,CACD,MAAO,kBAAMuB,cAAa,CAACP,QAAD,CAAnB,EAAP,CACH,CAdQ,CAcN,CAACP,MAAD,CAASC,OAAT,CAAkBC,OAAlB,CAA2BX,IAA3B,CAAiCc,OAAjC,CAdM,CAAT,CAgBA,mBACI,YAAK,SAAS,CAAEhB,MAAM,CAAC0B,KAAvB,uBACI,aACI,KAAK,CAAE,CACHC,KAAK,CAAEb,OAAO,CAAG,KAAH,CAAW,MADtB,CAEHc,SAAS,CAAEd,OAAO,WAAMd,MAAM,CAACc,OAAb,oBAAwC,EAFvD,CADX,CAKI,cAAc,CAAE,gCAAMC,UAAS,EAAf,EALpB,UAOMd,MAAM,CAACC,IAAD,CAPZ,EADJ,EADJ,CAaH"},"metadata":{},"sourceType":"module"}